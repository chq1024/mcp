{
    "name": "mysql-books-mcp",
    "description": "通过自然语言与MySQL数据库交互，支持表结构查询和多表智能查询。",
    "tools": [
      {
        "name": "get_table_schema",
        "description": "获取指定表的完整结构信息，供LLM分析自然语言时使用。返回字段名、类型、注释、主键、外键、索引等信息。",
        "inputSchema": {
          "type": "object",
          "properties": {
            "table": {
              "type": "string",
              "description": "要查询的表名"
            }
          },
          "required": ["table"]
        }
      },
      {
        "name": "execute_query",
        "description": "根据LLM解析的自然语言执行数据库查询，支持多表关联、复杂条件、排序、分页等。",
        "inputSchema": {
          "type": "object",
          "properties": {
            "tables": {
              "type": "array",
              "items": { "type": "string" },
              "description": "要查询的表名列表，第一个为主表"
            },
            "fields": {
              "type": "array",
              "items": { "type": "string" },
              "description": "要查询的字段列表，格式为table.column"
            },
            "conditions": {
              "type": "object",
              "description": "查询条件，支持简单条件(字段=值)和复杂条件(字段={operator: 'LIKE', value: '%test%'})"
            },
            "joins": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "left": { "type": "string", "description": "左表字段" },
                  "right": { "type": "string", "description": "右表字段" },
                  "type": { "type": "string", "description": "JOIN类型，默认JOIN" }
                }
              },
              "description": "表关联条件"
            },
            "order_by": {
              "type": "string",
              "description": "排序字段，如'id DESC'"
            },
            "limit": {
              "type": "string",
              "description": "限制返回记录数，如'10'"
            }
          },
          "required": ["tables", "fields"]
        }
      }
    ]
}